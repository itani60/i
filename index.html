<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homepage - CompareHub</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="hero-carousel-animations.css">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="product-card-enhancements.css">

    <style>
  
.product-card {
    background: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    position: relative;
    display: flex;
    flex-direction: column;
    height: 100%;
    border: 1px solid #eee;
    max-width: 100%;
}

.product-card .wishlist-heart {
    position: absolute;
    top: 10px;
    right: 10px;
    z-index: 10;
    color: #ff4757;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 50%;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

.product-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
    border-color: #ddd;
}

.product-image {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 12px;
    background: linear-gradient(to bottom, #f9f9f9, #f5f5f5);
    position: relative;
    height: 140px;
    border-bottom: 1px solid #eee;
    overflow: hidden;
}

.product-image img {
    max-height: 100%;
    max-width: 100%;
    object-fit: contain;
    transition: transform 0.4s ease;
}

.product-card:hover .product-image img {
transform: scale(1.08);
}

/* Hero Carousel Product Grid Styles */
.hero-products-grid {
display: grid;
grid-template-columns: repeat(4, 1fr);
gap: 15px;
padding: 20px;
min-height: 300px;
}

.hero-slide .product-card {
margin: 0;
height: auto;
}

.hero-slide .product-image {
height: 150px;
}

.hero-slide .product-info {
padding: 10px;
}

.hero-slide .product-name {
font-size: 14px;
margin-bottom: 5px;
display: -webkit-box;
-webkit-line-clamp: 2;
-webkit-box-orient: vertical;
overflow: hidden;
}

.hero-slide .price-container {
margin-bottom: 8px;
}

.hero-slide .current-price {
font-size: 16px;
font-weight: bold;
color: #0066cc;
}

.hero-slide .original-price {
font-size: 14px;
color: #999;
text-decoration: line-through;
margin-right: 8px;
}

.hero-slide .discount {
font-size: 12px;
color: #ff4757;
font-weight: bold;
}

.hero-slide .view-deal-btn {
font-size: 12px;
padding: 6px 12px;
width: 100%;
}

/* Responsive adjustments for hero carousel */
@media (max-width: 1024px) {
.hero-products-grid {
grid-template-columns: repeat(2, 1fr);
gap: 10px;
padding: 15px;
}
}

@media (max-width: 768px) {
.hero-products-grid {
grid-template-columns: repeat(2, 1fr);
gap: 8px;
padding: 10px;
}

.hero-slide .product-image {
height: 120px;
}

.hero-slide .product-name {
font-size: 12px;
}

.hero-slide .current-price {
font-size: 14px;
}
}

@media (max-width: 480px) {
    .hero-products-grid {
        grid-template-columns: 1fr;
        gap: 10px;
        padding: 10px;
    }

    .hero-slide .product-image {
        height: 100px;
    }
}

/* Smartphone Deals Carousel Styles */
.smartphone-carousel {
    position: relative;
    overflow: hidden;
    margin: 1rem 0;
}

.smartphone-slides {
    display: flex;
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: transform;
}

.smartphone-slide {
    flex: 0 0 100%;
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 12px;
    padding: 15px 12px;
    min-height: 280px;
    align-items: start;
}

.smartphone-slide.active {
    display: grid;
}

.smartphone-indicators {
    display: flex;
    justify-content: center;
    gap: 8px;
    margin-top: 15px;
    padding: 0 15px;
}

.smartphone-indicator {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: #e0e0e0;
    cursor: pointer;
    transition: all 0.3s ease;
    border: none;
    flex-shrink: 0;
}

.smartphone-indicator.active {
    background-color: #0066cc;
    transform: scale(1.2);
}

.smartphone-indicator:hover {
    background-color: #ccc;
}

/* Touch-friendly carousel navigation */
.smartphone-carousel .smartphone-slide {
    -webkit-overflow-scrolling: touch;
}

/* Enhanced mobile and tablet optimization */
@media (max-width: 1200px) {
    .smartphone-slide {
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
        padding: 15px 10px;
        min-height: 260px;
    }
}

@media (max-width: 1024px) {
    .smartphone-slide {
        grid-template-columns: repeat(2, 1fr);
        gap: 8px;
        padding: 12px 8px;
        min-height: 220px;
    }

    .smartphone-indicators {
        gap: 5px;
        margin-top: 10px;
    }

    .smartphone-indicator {
        width: 7px;
        height: 7px;
    }
}

@media (max-width: 768px) {
    .smartphone-carousel {
        margin: 0.5rem 0;
    }

    .smartphone-slide {
        grid-template-columns: repeat(2, 1fr);
        gap: 6px;
        padding: 10px 6px;
        min-height: 200px;
    }

    .smartphone-slide .product-card {
        margin: 0;
        border-radius: 6px;
        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.08);
    }

    .smartphone-slide .product-image {
        height: 90px;
        padding: 8px;
        border-radius: 4px 4px 0 0;
    }

    .smartphone-slide .product-details {
        padding: 6px;
    }

    .smartphone-slide .product-name {
        font-size: 10px;
        line-height: 1.2;
        margin-bottom: 3px;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .smartphone-slide .product-brand {
        font-size: 9px;
        margin-bottom: 2px;
    }

    .smartphone-slide .product-specs {
        font-size: 8px;
        margin-bottom: 3px;
    }

    .smartphone-slide .product-specs span {
        font-size: 8px;
    }

    .smartphone-slide .current-price {
        font-size: 12px;
        font-weight: 700;
    }

    .smartphone-slide .original-price {
        font-size: 10px;
    }

    .smartphone-slide .discount {
        font-size: 9px;
    }

    .smartphone-slide .product-retailers {
        font-size: 8px;
        margin-bottom: 4px;
    }

    .smartphone-slide .compare-button {
        font-size: 9px;
        padding: 3px 6px;
        height: 24px;
    }

    .smartphone-slide .price-alert-bell {
        width: 20px;
        height: 20px;
        font-size: 10px;
        top: 4px;
        right: 4px;
    }

    .smartphone-indicators {
        gap: 4px;
        margin-top: 8px;
        padding: 0 6px;
    }
}

@media (max-width: 480px) {
    .smartphone-slide {
        grid-template-columns: repeat(2, 1fr);
        gap: 6px;
        padding: 8px 6px;
        min-height: 320px;
    }

    .smartphone-slide .product-card {
        max-width: 100%;
        margin: 0 auto;
        border-radius: 6px;
    }

    .smartphone-slide .product-image {
        height: 80px;
        padding: 6px;
    }

    .smartphone-slide .product-details {
        padding: 6px;
    }

    .smartphone-slide .product-name {
        font-size: 10px;
        margin-bottom: 3px;
        line-height: 1.2;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .smartphone-slide .product-brand {
        font-size: 9px;
        margin-bottom: 1px;
    }

    .smartphone-slide .product-specs {
        font-size: 8px;
        margin-bottom: 2px;
    }

    .smartphone-slide .current-price {
        font-size: 12px;
        font-weight: 700;
    }

    .smartphone-slide .original-price {
        font-size: 10px;
    }

    .smartphone-slide .discount {
        font-size: 9px;
    }

    .smartphone-slide .product-retailers {
        font-size: 8px;
        margin-bottom: 4px;
    }

    .smartphone-slide .compare-button {
        font-size: 9px;
        padding: 3px 6px;
        height: 24px;
    }

    .smartphone-slide .price-alert-bell {
        width: 20px;
        height: 20px;
        font-size: 10px;
        top: 3px;
        right: 3px;
    }

    .smartphone-indicators {
        gap: 3px;
        margin-top: 6px;
        padding: 0 6px;
    }

    .smartphone-indicator {
        width: 5px;
        height: 5px;
    }
}

/* Landscape orientation for mobile */
@media (max-width: 768px) and (orientation: landscape) {
    .smartphone-slide {
        grid-template-columns: repeat(3, 1fr);
        gap: 6px;
        padding: 8px 4px;
        min-height: 160px;
    }

    .smartphone-slide .product-image {
        height: 70px;
        padding: 6px;
    }

    .smartphone-slide .product-details {
        padding: 5px;
    }

    .smartphone-slide .product-name {
        font-size: 9px;
        margin-bottom: 2px;
        line-height: 1.2;
    }

    .smartphone-slide .product-brand {
        font-size: 8px;
        margin-bottom: 1px;
    }

    .smartphone-slide .current-price {
        font-size: 11px;
    }

    .smartphone-slide .original-price {
        font-size: 9px;
    }

    .smartphone-slide .compare-button {
        font-size: 8px;
        padding: 2px 4px;
        height: 20px;
    }

    .smartphone-slide .price-alert-bell {
        width: 18px;
        height: 18px;
        font-size: 9px;
        top: 3px;
        right: 3px;
    }
}

/* Extra small screens */
@media (max-width: 360px) {
    .smartphone-slide {
        padding: 6px 4px;
        gap: 6px;
        min-height: 160px;
    }

    .smartphone-slide .product-card {
        border-radius: 4px;
    }

    .smartphone-slide .product-image {
        height: 85px;
        padding: 6px;
    }

    .smartphone-slide .product-details {
        padding: 6px;
    }

    .smartphone-slide .product-name {
        font-size: 11px;
        margin-bottom: 3px;
    }

    .smartphone-slide .product-brand {
        font-size: 9px;
        margin-bottom: 1px;
    }

    .smartphone-slide .current-price {
        font-size: 13px;
    }

    .smartphone-slide .original-price {
        font-size: 10px;
    }

    .smartphone-slide .compare-button {
        font-size: 9px;
        padding: 3px 6px;
        height: 24px;
    }

    .smartphone-slide .price-alert-bell {
        width: 20px;
        height: 20px;
        font-size: 10px;
    }

    .smartphone-indicators {
        gap: 2px;
        margin-top: 5px;
        padding: 0 4px;
    }

    .smartphone-indicator {
        width: 4px;
        height: 4px;
    }
}

/* High DPI displays */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    .smartphone-indicator {
        border: 0.5px solid rgba(0, 0, 0, 0.1);
    }
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
    .smartphone-slides {
        transition: none;
    }

    .smartphone-indicator {
        transition: none;
    }
}

/* Wishlist button styles */
.wishlist-button {
    transition: all 0.3s ease;
}
.wishlist-loading {
    position: relative;
}
.wishlist-spinner {
    width: 16px;
    height: 16px;
    border: 2px solid rgba(255, 71, 87, 0.3);
    border-radius: 50%;
    border-top-color: #ff4757;
    animation: wishlist-spin 0.8s linear infinite;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
@keyframes wishlist-spin {
    to { transform: translate(-50%, -50%) rotate(360deg); }
}

/* Mobile responsive button layout */
@media (max-width: 768px) {
    .product-buttons {
        display: flex;
        flex-direction: column;
        gap: 6px;
    }

    .product-buttons button {
        width: 100%;
        font-size: 11px;
        padding: 6px 8px;
        height: 28px;
    }
}

@media (max-width: 480px) {
    .product-buttons {
        gap: 4px;
    }

    .product-buttons button {
        font-size: 10px;
        padding: 5px 6px;
        height: 26px;
    }
}
    </style>
</head>
<body>
    <header class="header">
        <div class="header-top">
            <button class="sidebar-toggle" onclick="toggleSidebar()" aria-label="Open menu">☰</button>
            <div class="logo">
                <a href="index.html" class="logo-link">
                    <img src="https://comparehub-smartphone-images.s3.af-south-1.amazonaws.com/IMG_20250625_174144.jpg" alt="CompareHubPrices" class="logo-image">
                </a>
            </div>
            <div class="search-container">
                <form id="search-form">
                    <input type="text" name="q" class="search-input" placeholder="Search......." id="searchInput">
                    <button type="submit" class="search-button" aria-label="Search"><i class="fas fa-search"></i></button>
                </form>
                <div class="search-suggestions" id="searchSuggestions">
                    <div class="suggestions-header">
                        <span class="all-results">All</span>
                        <span class="search-query" id="searchQuery">results</span>
                    </div>
                    <div class="suggestions-grid" id="suggestionsGrid"></div>
                </div>
            </div>
        </div>
        <nav class="category-nav">
            <a href="best-deals.html" class="active"><i class=""></i> Best deals</a>
            <a href="#new-arrivals"><i class=""></i> New Arrivals</a>
            <a href="#" id="notifications-link"><i class="fas fa-bell"></i> Notifications</a>
        </nav>
    </header>
            <div class="main-container">
      <nav class="sidebar" id="sidebar">
            <div class="sidebar-login" id="sidebarLogin"></div>
            <div class="sidebar-search">
                <input type="text" placeholder="Search categories..." id="sidebarSearchInput">
            </div>
            <div class="sidebar-header">
                <h3>Browse Categories</h3>
                <button class="close-sidebar" onclick="closeSidebar()" aria-label="Close menu">&times;</button>
            </div>
            
         
            <button class="switch-categories-btn" onclick="switchCategoryType()">
                
                <span id="switchBtnText">Switch to Essential Goods</span>
            </button>
            
            <div class="category-type" id="categoryType">Electronics</div>
            
              <div class="menu-content" id="menuContent">
                <ul class="menu-items" id="electronicsMenu">
                  <li class="item">
                         <div class="submenu-item" onclick="toggleSubmenu(this)">
                             <span><i class=""></i> Smartphones,Tablets & Accessories</span>
                             <i class="fa-solid fa-chevron-right"></i>
                         </div>
                         <ul class="menu-items submenu">
                            <li class="item"><a href="smartphones.html" onclick="navigateToSmartphonesByType('all'); return false;">Smartphones</a></li>
                             <li class="item"><a href="#tablets" onclick="navigateToTabletsByType('all'); return false;">Tablets</a></li>
                             <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Accessories</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#adapters" onclick="navigateToSmartphonesAccessoriesByType('adapters'); return false;">Adapters</a></li>
                                     <li class="item"><a href="#powerbanks" onclick="navigateToSmartphonesAccessoriesByType('powerbanks'); return false;">Powerbanks</a></li>
                                     <li class="item"><a href="#cables" onclick="navigateToSmartphonesAccessoriesByType('cables'); return false;">Cables</a></li>
                                    
                                 </ul>
                             </li>
                             
                         </ul>
                    </li>

                       <li class="item">
                         <div class="submenu-item" onclick="toggleSubmenu(this)">
                             <span><i class=""></i> Computers,Laptops & Accessories</span>
                             <i class="fa-solid fa-chevron-right"></i>
                         </div>
                         <ul class="menu-items submenu">
                             <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Laptops</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#windows" onclick="navigateToLaptopsByType('windows'); return false;">Windows</a></li>
                                     <li class="item"><a href="#macos" onclick="navigateToLaptopsByType('macos'); return false;">MacOS</a></li>
                                     <li class="item"><a href="#chromeos" onclick="navigateToLaptopsByType('chromeos'); return false;">ChromeOS</a></li>
                                 </ul>
                             </li>
                             
                             <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Desktops</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#windows" onclick="navigateToDesktopsByType('windows'); return false;">Windows</a></li>
                                     <li class="item"><a href="#macos" onclick="navigateToDesktopsByType('macos'); return false;">MacOS</a></li>
                                 </ul>
                               </li>

                              
                               <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Accessories</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="javascript:void(0);" onclick="navigateToLaptopDesktopAccessoriesByType('adapters')">Charges & Adapters</a></li>
                                     <li class="item"><a href="javascript:void(0);" onclick="navigateToLaptopDesktopAccessoriesByType('usb_hubs')">USB Hubs</a></li>
                                     <li class="item"><a href="javascript:void(0);" onclick="navigateToLaptopDesktopAccessoriesByType('keyboards')">Keyboards & Mice</a></li>
                                     <li class="item"><a href="javascript:void(0);" onclick="navigateToLaptopDesktopAccessoriesByType('speakers')">Speakers</a></li>
                                     <li class="item"><a href="javascript:void(0);" onclick="navigateToLaptopDesktopAccessoriesByType('webcams')">Webcams</a></li>    
                                 </ul>
                             </li>

                                <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Data Storage</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#memory-cards" onclick="navigateToDataStorageByType('memory_cards'); return false;">Memory Cards</a></li>
                                     <li class="item"><a href="#external-drivers" onclick="navigateToDataStorageByType('external_drivers'); return false;">External Drivers</a></li>
                                    <li class="item"><a href="#usb-drivers" onclick="navigateToDataStorageByType('usb_drivers'); return false;">USB Drivers</a></li>
                                   
                                 </ul>
                             </li>
 
                               <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Componets</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#motherboard" onclick="navigateToComponentsByType('motherboard'); return false;">Motherboard</a></li>
                                     <li class="item"><a href="#memory-ram" onclick="navigateToComponentsByType('memory_ram'); return false;">Memory(RAM)</a></li>
                                     <li class="item"><a href="#graphics-card" onclick="navigateToComponentsByType('graphics_card'); return false;">Graphics Card</a></li>
                                     <li class="item"><a href="#storage" onclick="navigateToComponentsByType('storage'); return false;">Storage</a></li>
                                    <li class="item"><a href="#cpu" onclick="navigateToComponentsByType('cpu'); return false;">CPU</a></li>
                                     <li class="item"><a href="#power-supply" onclick="navigateToComponentsByType('power_supply'); return false;">Power Supply</a></li>
                                 </ul>
                             </li>   

                           </ul>
                    </li>

                    
                  

                       <li class="item">
                         <div class="submenu-item" onclick="toggleSubmenu(this)">
                             <span><i class=""></i>Wi-Fi & Networking</span>
                             <i class="fa-solid fa-chevron-right"></i>
                         </div>
                         <ul class="menu-items submenu">
                             <li class="item"><a href="#routers" onclick="navigateToWifiNetworkingByType('routers'); return false;">Routers</a></li>
                             <li class="item"><a href="#wifi-ups" onclick="navigateToWifiNetworkingByType('wifi_ups'); return false;">WiFi Ups</a></li>
                             <li class="item"><a href="#extenders-repeaters" onclick="navigateToWifiNetworkingByType('extenders_repeaters'); return false;">Extenders & Repeaters</a></li>
                        
                         </ul>
                    </li>

                    <li class="item">
                        <div class="submenu-item" onclick="toggleSubmenu(this)">
                            <span><i class=""></i> TV & Streaming</span>
                            <i class="fa-solid fa-chevron-right"></i>
                        </div>
                        <ul class="menu-items submenu">
                            <li class="item"><a href="javascript:void(0);" onclick="navigateToTVStreamingByType('televisions')">Televisions</a></li>
                            <li class="item"><a href="javascript:void(0);" onclick="navigateToTVStreamingByType('streaming_devices')">Streaming Devices</a></li>
                        </ul>
                    </li>

                       <li class="item">
                         <div class="submenu-item" onclick="toggleSubmenu(this)">
                             <span><i class=""></i>Audio</span>
                             <i class="fa-solid fa-chevron-right"></i>
                         </div>
                         <ul class="menu-items submenu">
                            
                             <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Earbuds & Headphones</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#earbuds" onclick="navigateToHeadphonesEarbudsByType('earbuds'); return false;">Earbuds</a></li>
                                     <li class="item"><a href="#headphones" onclick="navigateToHeadphonesEarbudsByType('headphones'); return false;">Headphones</a></li>
                                 </ul>
                             </li>
                             
                                 <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Portable Speakers</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#bluetooth-speakers" onclick="navigateToPortableSpeakersByType('bluetooth_speakers'); return false;">Bluetooth Speakers</a></li>
                                     <li class="item"><a href="#party-speakers" onclick="navigateToPortableSpeakersByType('party_speakers'); return false;">Party Speakers</a></li>

                                 </ul>
                             </li>



                           <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Home Entertainment Systems</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#hifi-systems" onclick="navigateToHomeEntertainmentByType('hifi_systems'); return false;">Hi-Fi Systems</a></li>
                                     <li class="item"><a href="#soundbars" onclick="navigateToHomeEntertainmentByType('soundbars'); return false;">Soundbars</a></li>
                                 </ul>
                              </li>
                         </ul>
                    </li>

                        <li class="item">
                         <div class="submenu-item" onclick="toggleSubmenu(this)">
                             <span><i class=""></i>Wearables Devices</span>
                             <i class="fa-solid fa-chevron-right"></i>
                         </div>
                         <ul class="menu-items submenu">
                             
                             <li class="item"><a href="#smartwatches" onclick="navigateToWearablesByType('smartwatches'); return false;">Smartwatches</a></li>
                             <li class="item"><a href="#fitness-trackers" onclick="navigateToWearablesByType('fitness_trackers'); return false;">Fitness Trackers</a></li>
                             
                         </ul>
                    </li>

                       <li class="item">
                         <div class="submenu-item" onclick="toggleSubmenu(this)">
                             <span><i class=""></i>Climate Control</span>
                             <i class="fa-solid fa-chevron-right"></i>
                         </div>
                         <ul class="menu-items submenu">
                         
                             <li class="item"><a href="#fans" onclick="navigateToClimateControlByType('fans'); return false;">Fans</a></li>
                             <li class="item"><a href="#air-conditioners" onclick="navigateToClimateControlByType('air_conditioners'); return false;">Air Conditioners</a></li>
                              <li class="item"><a href="#air-coolers" onclick="navigateToClimateControlByType('air_coolers'); return false;">Air Coolers</a></li>
                         </ul>
                    </li>



                       <li class="item">
                         <div class="submenu-item" onclick="toggleSubmenu(this)">
                             <span><i class=""></i>Gaming</span>
                             <i class="fa-solid fa-chevron-right"></i>
                         </div>
                         <ul class="menu-items submenu">
                            <li class="item"><a href="javascript:void(0);" onclick="navigateToGamingByType('console')">Consoles</a></li>
                            <li class="item"><a href="javascript:void(0);" onclick="navigateToGamingByType('laptop')">Gaming Laptops</a></li>
                            <li class="item"><a href="javascript:void(0);" onclick="navigateToGamingByType('pc')">Gaming PCs</a></li>
                            <li class="item"><a href="javascript:void(0);" onclick="navigateToGamingByType('monitor')">Gaming Monitors</a></li>

                             <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span> XBOX Accessories</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="javascript:void(0);" onclick="navigateToGamingByType('xbox_accessories')">Accessories</a></li>
                                     
                                 </ul>
                             </li>



                             <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Nintendo Accessories</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="javascript:void(0);" onclick="navigateToGamingByType('nintendo_accessories')">Accessories</a></li>
                                
                                 </ul>
                             </li>

                             <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span> Playstation Accessories</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="javascript:void(0);" onclick="navigateToGamingByType('xbox_accessories')">Accessories</a></li>
                                    
                                 </ul>
                             </li>


                             <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span> PC Gaming Accessories</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="javascript:void(0);" onclick="navigateToGamingByType('pc_accessories_keyboards')">Gaming Keyboards & Mouse</a></li>
                                     <li class="item"><a href="javascript:void(0);" onclick="navigateToGamingByType('pc_accessories_headsets')">Gaming Headsets</a></li>
                    
                                 </ul>
                             </li>
                             
                         </ul>
                    </li>

                      
                        <li class="item">
                         <div class="submenu-item" onclick="toggleSubmenu(this)">
                             <span><i class=""></i>Appliances</span>
                             <i class="fa-solid fa-chevron-right"></i>
                         </div>
                         <ul class="menu-items submenu">
                             
                             <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Fridges & Freezers</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#fridges" onclick="navigateToAppliancesByType('fridges'); return false;">Fridges</a></li>
                                     <li class="item"><a href="#freezers" onclick="navigateToAppliancesByType('freezers'); return false;">Freezers</a></li>
                                 </ul>
                             </li>
                             
                                <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Microwaves, Ovens & Stoves</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#microwaves" onclick="navigateToAppliancesByType('microwaves'); return false;">Microwaves</a></li>
                                     <li class="item"><a href="#ovens" onclick="navigateToAppliancesByType('ovens'); return false;">Ovens</a></li>
                                     <li class="item"><a href="#stoves" onclick="navigateToAppliancesByType('stoves'); return false;">Stoves</a></li>
                                 </ul>
                             </li>


                                <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Kettles, Coffee Machines</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#kettles" onclick="navigateToAppliancesByType('kettles'); return false;">Kettles</a></li>
                                     <li class="item"><a href="#coffee-machines" onclick="navigateToAppliancesByType('coffee_machines'); return false;">Coffee Machines</a></li>
                                    
                                 </ul>
                             </li>




                               <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Floorcare</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#vacuum-cleaners" onclick="navigateToAppliancesByType('vacuum_cleaners'); return false;">Vacuum Cleaners</a></li>
                                     <li class="item"><a href="#robot-vacuums" onclick="navigateToAppliancesByType('robot_vacuums'); return false;">Robot Vacuums</a></li>
                                 
                                 </ul>
                             </li>
                                

                                <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Food Preparation</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#mixers" onclick="navigateToAppliancesByType('mixers'); return false;">Mixers</a></li>
                                     <li class="item"><a href="#food-processors" onclick="navigateToAppliancesByType('food_processors'); return false;">Food Processors</a></li>
                                     <li class="item"><a href="#blenders-juicers" onclick="navigateToAppliancesByType('blenders_juicers'); return false;">Blenders & Juicers</a></li>
                                 </ul>
                             </li>
                                                


                               <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Heaters & Electric Blankets</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#heaters" onclick="navigateToAppliancesByType('heaters'); return false;">Heaters</a></li>
                                     <li class="item"><a href="#electric-blankets" onclick="navigateToAppliancesByType('electric_blankets'); return false;">Electric Blankets</a></li>
                                 </ul>
                             </li>
                               
                              <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Personal Care</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#electric-shavers" onclick="navigateToAppliancesByType('electric_shavers'); return false;">Electric Shavers</a></li>
                                     <li class="item"><a href="#hair-care" onclick="navigateToAppliancesByType('hair_care'); return false;">Hair Care</a></li>
                                 </ul>
                             </li>
                               
                               <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Cookers & Air Fryers</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#air-fryers" onclick="navigateToAppliancesByType('air_fryers'); return false;">Air Fryers</a></li>
                                     <li class="item"><a href="#grillers" onclick="navigateToAppliancesByType('grillers'); return false;">Grillers</a></li>
                                    <li class="item"><a href="#cooker-steamers" onclick="navigateToAppliancesByType('cooker_steamers'); return false;">Cooker&Steamers</a></li>
                                     <li class="item"><a href="#hotplates" onclick="navigateToAppliancesByType('hotplates'); return false;">Hotplates</a></li>
                                     
                                 </ul>
                             </li>

                             <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Toasters & Sandwich Makers</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#toasters" onclick="navigateToAppliancesByType('toasters'); return false;">Toasters</a></li>
                                     <li class="item"><a href="#sandwich-makers" onclick="navigateToAppliancesByType('sandwich_makers'); return false;">Sandwich Makers</a></li>
                                     
                                 </ul>
                             </li>
                             
                             <li class="item"><a href="#dishwashers" onclick="navigateToAppliancesByType('dishwashers'); return false;">Dishwashers</a></li>
                             <li class="item"><a href="#irons-steamers" onclick="navigateToAppliancesByType('irons_steamers'); return false;">Irons & Steamers</a></li>
                             <li class="item"><a href="#sewing-machine" onclick="navigateToAppliancesByType('sewing_machine'); return false;">Sewing Machine</a></li>
                             <li class="item"><a href="#humidifiers-purifiers" onclick="navigateToAppliancesByType('humidifiers_purifiers'); return false;">Humidifiers & Purifiers</a></li>
                            
                         </ul>
                    </li>


                       <li class="item">
                        <div class="submenu-item" onclick="toggleSubmenu(this)">
                            <span><i class=""></i>Power Solutions</span>
                            <i class="fa-solid fa-chevron-right"></i>
                        </div>
                        <ul class="menu-items submenu">
                      
                            <li class="item"><a href="#ups" onclick="navigateToPowerSolutionsByType('ups'); return false;">UPS</a></li>
                            <li class="item"><a href="#power-stations" onclick="navigateToPowerSolutionsByType('power_stations'); return false;">Power Stations</a></li>
                            <li class="item"><a href="#inverters" onclick="navigateToPowerSolutionsByType('inverters'); return false;">Inverters</a></li>
                            
                        </ul>
                    </li>


                         

                </ul>
                
                
                <ul class="menu-items" id="foodMenu" style="display: none;">
                    <li class="item">
                         <div class="submenu-item" onclick="toggleSubmenu(this)">
                             <span><i class=""></i>Household</span>
                             <i class="fa-solid fa-chevron-right"></i>
                         </div>
                         <ul class="menu-items submenu">
                            
                             <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Cleaning and Hygiene</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#monitors">Bleaches</a></li>
                                     <li class="item"><a href="#towers">Dishwashing Liquids</a></li>
                                     <li class="item"><a href="#monitors">Bleaches</a></li>
                                     <li class="item"><a href="#towers">Air Freshners</a></li>
                                     <li class="item"><a href="#monitors">Bleaches</a></li>
                                     <li class="item"><a href="#towers">Headphones</a></li>
                                 </ul>
                             </li>
                             
                                <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Essential Cleaning Tools</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#monitors">Beef</a></li>
                                     <li class="item"><a href="#towers">Chicken meat</a></li>
                                     <li class="item"><a href="#towers">Milk</a></li>
                                 </ul>
                             </li>



                             <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Kitchen Essentials</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#laptop-bags">Kettle & Toasters</a></li>
                                     <li class="item"><a href="#laptop-cooling">Hotplates</a></li>
                                     <li class="item"><a href="#stands">Air-fryer</a></li>
                                 </ul>
                             </li>
                             
                             <li class="item"><a href="#windows-laptops">Insect Control</a></li>
                             <li class="item"><a href="#macos-laptops">Pet Care</a></li>
                             <li class="item"><a href="#chrome-os-laptops">Pest control</a></li>
                         </ul>
                    </li>

                     <li class="item">
                         <div class="submenu-item" onclick="toggleSubmenu(this)">
                             <span><i class=""></i>Foods</span>
                             <i class="fa-solid fa-chevron-right"></i>
                         </div>
                         <ul class="menu-items submenu">
                            
                             <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Cleaning and Hygiene</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#monitors">Bleaches</a></li>
                                     <li class="item"><a href="#towers">Dishwashing Liquids</a></li>
                                     <li class="item"><a href="#monitors">Bleaches</a></li>
                                     <li class="item"><a href="#towers">Air Freshners</a></li>
                                     <li class="item"><a href="#monitors">Bleaches</a></li>
                                     <li class="item"><a href="#towers">Headphones</a></li>
                                 </ul>
                             </li>
                             
                                <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Essential Cleaning Tools</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#monitors">Beef</a></li>
                                     <li class="item"><a href="#towers">Chicken meat</a></li>
                                     <li class="item"><a href="#towers">Milk</a></li>
                                 </ul>
                             </li>



                             <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Home Appliances</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#laptop-bags">Hi-Fi Systems</a></li>
                                     <li class="item"><a href="#laptop-cooling">Soundbars</a></li>
                                     <li class="item"><a href="#stands">Stands</a></li>
                                 </ul>
                             </li>
                             
                            
                         </ul>
                    </li>


                      <li class="item">
                         <div class="submenu-item" onclick="toggleSubmenu(this)">
                             <span><i class=""></i>Personal Care</span>
                             <i class="fa-solid fa-chevron-right"></i>
                         </div>
                         <ul class="menu-items submenu">
                            
                             <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Toiletries</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#monitors">Deodorants</a></li>
                                     <li class="item"><a href="#towers">Hand Care</a></li>
                                 </ul>
                             </li>
                             
                                <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Hair Care</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#monitors">Bluetooth Speakers</a></li>
                                     <li class="item"><a href="#towers">Headphones</a></li>
                                     <li class="item"><a href="#towers">Radios</a></li>
                                 </ul>
                             </li>



                             <li class="item">
                                 <div class="submenu-item" onclick="toggleSubmenu(this)">
                                     <span>Foot Care</span>
                                     <i class="fa-solid fa-chevron-right"></i>
                                 </div>
                                 <ul class="menu-items submenu">
                                     <li class="item"><a href="#laptop-bags">Hi-Fi Systems</a></li>
                                     <li class="item"><a href="#laptop-cooling">Soundbars</a></li>
                                     <li class="item"><a href="#stands">Stands</a></li>
                                 </ul>
                             </li>
                             
                             
                         </ul>
                    </li>

                </ul>
            </div>
        </nav>
        <main class="content">
            <section class="hero-carousel">
                <div class="hero-slides">
                    <div class="hero-slide active">
                        <a href="https://www.takealot.com/black-friday" target="_blank" class="hero-slide-link">
                            <picture>
                                <source media="(max-width: 480px)" srcset="https://consumer.huawei.com/dam/content/dam/huawei-cbg-site/ecommerce/za/2025/June/MEGA/WAP-1080x1152.webp">
                                <source media="(max-width: 768px)" srcset="https://consumer.huawei.com/dam/content/dam/huawei-cbg-site/ecommerce/za/2025/June/MEGA/WAP-1080x1152.webp">
                                <img src="https://consumer.huawei.com/dam/content/dam/huawei-cbg-site/ecommerce/za/2025/June/MEGA/WEB--3840x1136.webp" alt="Black Friday Deals" class="hero-image">
                            </picture>
                        </a>
                    </div>
                    <div class="hero-slide">
                        <a href="https://www.amazon.com/prime-day" target="_blank" class="hero-slide-link">
                            <picture>
                                <source media="(max-width: 480px)" srcset="https://hisense.co.za/wp-content/uploads/2025/05/100KV_1920x800-1024x427.jpg">
                                <source media="(max-width: 768px)" srcset="https://www.asus.com/WebsitesBanner/ZA/banners/store/acizy7bp3pbajipj/acizy7bp3pbajipj-0_0_tablet_0_1X.jpg?webp">
                                <img src="https://www.defy.co.za/content/dam/defy/za/images-defy-homepage/desktop/Defy_Homepage_Desktop-Blog-Article-Hero-1.png/jcr:content/renditions/original" alt="Prime Day Deals" class="hero-image">
                            </picture>
                        </a>
                    </div>
                    <div class="hero-slide">
                         <a href="https://www.takealot.com/tech-deals" target="_blank" class="hero-slide-link">
                             <picture>
                                 <source media="(max-width: 480px)" srcset="https://www.asus.com/WebsitesBanner/ZA/banners/store/acizy7bp3pbajipj/acizy7bp3pbajipj-0_0_mobile_0_1X.jpg?webp">
                                 <source media="(max-width: 768px)" srcset="https://www.asus.com/WebsitesBanner/ZA/banners/store/acizy7bp3pbajipj/acizy7bp3pbajipj-0_0_tablet_0_1X.jpg?webp">
                                 <img src="https://www.asus.com/WebsitesBanner/ZA/banners/store/acizy7bp3pbajipj/acizy7bp3pbajipj-0_0_desktop_0_1X.jpg?webp" alt="Tech Deals" class="hero-image">
                             </picture>
                         </a>
                    </div>
                    <div class="hero-slide">
                         <a href="https://www.amazon.com/home-appliances" target="_blank" class="hero-slide-link">
                             <picture>
                                 <source media="(max-width: 480px)" srcset="https://www.asus.com/WebsitesBanner/ZA/banners/store/mh69pfka5ufjjdyj/mh69pfka5ufjjdyj-0_0_mobile_0_1X.jpg">
                                 <source media="(max-width: 768px)" srcset="https://www.asus.com/WebsitesBanner/ZA/banners/store/mh69pfka5ufjjdyj/mh69pfka5ufjjdyj-0_0_tablet_0_1X.jpg">
                                 <img src="https://www.asus.com/WebsitesBanner/ZA/banners/store/mh69pfka5ufjjdyj/mh69pfka5ufjjdyj-0_0_desktop_0_1X.jpg" alt="Home Appliances Sale" class="hero-image">
                             </picture>
                         </a>
                    </div>
                </div>
                <div class="hero-indicators">
                    <span class="hero-indicator active" data-slide="0"></span>
                    <span class="hero-indicator" data-slide="1"></span>
                    <span class="hero-indicator" data-slide="2"></span>
                    <span class="hero-indicator" data-slide="3"></span>
                </div>
            </section>
            
            <section class="store-section" id="best-deals-section">
                <div class="store-header">
                    <div class="store-logo">
                        <h2>Best Deals</h2>
                    </div>
                    <a href="smartphones.html" class="view-all">View all deals <i class="fas fa-chevron-right"></i></a>
                </div>

                <div class="products-grid">
                    <!-- Products will be loaded dynamically from the API -->
                    <div class="loading-indicator">
                        <i class="fas fa-spinner fa-spin"></i>
                        <p>Loading products...</p>
                    </div>
                </div>
            </section>
            
            <!-- Google Ads Section -->
            <section class="ads-section">
                <div class="ads-container" id="googleAdsContainer">
                    <!-- Google AdSense code would be inserted here -->
                    <div class="ad-placeholder">
                        <div class="ad-placeholder-text">
                            <i class="fas fa-ad"></i>
                            <span>Advertisement</span>
                        </div>
                    </div>
                </div>
            </section>
            
            <style>
                .ads-section {
                    margin: 2rem 0;
                    width: 100%;
                    display: flex;
                    justify-content: center;
                }
                
                .ads-container {
                    width: 100%;
                    max-width: 970px;
                    min-height: 90px;
                    margin: 0 auto;
                    overflow: hidden;
                    background-color: #f9f9f9;
                    border-radius: 8px;
                    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
                }
                
                .ad-placeholder {
                    width: 100%;
                    height: 100%;
                    min-height: 90px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    background-color: #f0f0f0;
                    color: #888;
                    border: 1px dashed #ccc;
                }
                
                .ad-placeholder-text {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    gap: 5px;
                }
                
                .ad-placeholder-text i {
                    font-size: 1.5rem;
                }
                
                /* Responsive ad sizes */
                @media (min-width: 970px) {
                    .ads-container {
                        height: 90px; /* Leaderboard size */
                    }
                }

                @media (max-width: 969px) and (min-width: 728px) {
                    .ads-container {
                        height: 90px; /* Leaderboard size */
                        max-width: 728px;
                    }
                }

                @media (max-width: 727px) and (min-width: 468px) {
                    .ads-container {
                        height: 60px; /* Banner size */
                        max-width: 468px;
                    }
                }

                @media (max-width: 467px) {
                    .ads-container {
                        height: 50px; /* Mobile banner size */
                        max-width: 320px;
                    }
                }

                /* Article Modal Styles */
                .article-modal {
                    display: none;
                    position: fixed;
                    z-index: 10000;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    background-color: rgba(0, 0, 0, 0.8);
                    backdrop-filter: blur(5px);
                }

                .article-modal-content {
                    background-color: #fff;
                    margin: 2% auto;
                    padding: 0;
                    border-radius: 20px;
                    width: 90%;
                    max-width: 800px;
                    max-height: 90vh;
                    overflow-y: auto;
                    position: relative;
                    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
                }

                .article-modal-header {
                    padding: 20px 30px;
                    border-bottom: 1px solid #eee;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    background: linear-gradient(135deg, #05182d 0%, #ff0000 100%);
                    color: white;
                    border-radius: 20px 20px 0 0;
                }

                .article-modal-close {
                    background: none;
                    border: none;
                    font-size: 28px;
                    color: white;
                    cursor: pointer;
                    padding: 0;
                    width: 40px;
                    height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border-radius: 50%;
                    transition: background-color 0.3s ease;
                }

                .article-modal-close:hover {
                    background-color: rgba(255, 255, 255, 0.2);
                }

                .article-modal-category {
                    background: rgba(255, 255, 255, 0.2);
                    padding: 8px 16px;
                    border-radius: 20px;
                    font-size: 14px;
                    font-weight: 600;
                    text-transform: uppercase;
                    letter-spacing: 1px;
                }

                .article-modal-body {
                    padding: 30px;
                }

                .article-modal-title {
                    font-size: 32px;
                    font-weight: 800;
                    color: #333;
                    margin-bottom: 15px;
                    line-height: 1.3;
                }

                .article-modal-meta {
                    margin-bottom: 25px;
                }

                .article-modal-date {
                    color: #888;
                    font-size: 16px;
                    display: flex;
                    align-items: center;
                    gap: 8px;
                }

                .article-modal-date i {
                    color: #0066cc;
                }

                .article-modal-full-content {
                    line-height: 1.8;
                    color: #555;
                    font-size: 18px;
                }

                .article-modal-full-content h1,
                .article-modal-full-content h2,
                .article-modal-full-content h3,
                .article-modal-full-content h4 {
                    color: #333;
                    margin-top: 30px;
                    margin-bottom: 15px;
                }

                .article-modal-full-content h3 {
                    font-size: 24px;
                    border-bottom: 2px solid #eee;
                    padding-bottom: 10px;
                }

                .article-modal-full-content ul {
                    margin: 20px 0;
                    padding-left: 30px;
                }

                .article-modal-full-content li {
                    margin-bottom: 10px;
                }

                .article-modal-full-content p {
                    margin-bottom: 20px;
                }

                /* Mobile responsiveness for modal */
                @media (max-width: 768px) {
                    .article-modal-content {
                        margin: 1% auto;
                        width: 95%;
                        max-height: 95vh;
                    }

                    .article-modal-header {
                        padding: 15px 20px;
                    }

                    .article-modal-body {
                        padding: 20px;
                    }

                    .article-modal-title {
                        font-size: 24px;
                    }

                    .article-modal-full-content {
                        font-size: 16px;
                    }
                }
            </style>
            <section class="deals-section">
                <div class="section-header">
                    <h2 class="section-title">trending products</h2>
                </div>
                <div class="products-carousel" id="takealotCarousel">
                    <div class="products-slider" id="takealotSlider"></div>
                </div>
                <div class="carousel-indicators" id="takealotIndicators"></div>
            </section>
            
            <!-- Trending Products Section -->
            <section class="store-section" id="trending-products-section">
                <div class="store-header">
                    <div class="store-logo">
                        <h2>Trending Products</h2>
                    </div>
                    <a href="#" class="view-all">View all products <i class="fas fa-chevron-right"></i></a>
                </div>

                <div class="products-grid">
                    <!-- Products will be loaded dynamically from the API -->
                    <div class="loading-indicator">
                        <i class="fas fa-spinner fa-spin"></i>
                        <p>Loading trending products...</p>
                    </div>
                </div>
            </section>
            
            <!-- Google Ads Section (After Trending Products) -->
            <section class="ads-section">
                <div class="ads-container" id="googleAdsContainer3">
                    <!-- Google AdSense code would be inserted here -->
                    <div class="ad-placeholder">
                        <div class="ad-placeholder-text">
                            <i class="fas fa-ad"></i>
                            <span>Advertisement</span>
                        </div>
                    </div>
                </div>
            </section>
            
            <style>
                /* Tech News Section Styles */
                .tech-news-section {
                    margin: 3rem 0;
                    padding: 0 1rem;
                }
                
                .tech-news-header {
                    text-align: center;
                    margin-bottom: 2rem;
                }
                
                .tech-news-header h2 {
                    font-size: 2rem;
                    font-weight: 700;
                    color: #333;
                    margin-bottom: 0.5rem;
                    background: linear-gradient(90deg, #0066cc, #2a9df4);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                    background-clip: text;
                    text-fill-color: transparent;
                }
                
                .tech-news-header p {
                    color: #666;
                    max-width: 700px;
                    margin: 0 auto;
                }
                
                .tech-news-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
                    gap: 2rem;
                    max-width: 1200px;
                    margin: 0 auto;
                }
                
                .news-card {
                    background-color: #fff;
                    border-radius: 8px;
                    overflow: hidden;
                    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
                    transition: transform 0.3s ease, box-shadow 0.3s ease;
                }
                
                .news-card:hover {
                    transform: translateY(-5px);
                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
                }
                
                .news-image {
                    height: 200px;
                    overflow: hidden;
                }
                
                .news-image img {
                    width: 100%;
                    height: 100%;
                    object-fit: cover;
                    transition: transform 0.5s ease;
                }
                
                .news-card:hover .news-image img {
                    transform: scale(1.05);
                }
                
                .news-content {
                    padding: 1.5rem;
                }
                
                .news-category {
                    display: inline-block;
                    font-size: 0.8rem;
                    font-weight: 600;
                    color: #0066cc;
                    text-transform: uppercase;
                    margin-bottom: 0.5rem;
                }
                
                .news-title {
                    font-size: 1.2rem;
                    font-weight: 700;
                    margin-bottom: 0.75rem;
                    line-height: 1.4;
                    color: #333;
                }
                
                .news-excerpt {
                    font-size: 0.9rem;
                    color: #666;
                    margin-bottom: 1rem;
                    line-height: 1.5;
                }
                
                .read-more {
                    display: inline-flex;
                    align-items: center;
                    color: #0066cc;
                    font-weight: 600;
                    font-size: 0.9rem;
                    text-decoration: none;
                    transition: color 0.2s ease;
                }
                
                .read-more i {
                    margin-left: 5px;
                    font-size: 0.8rem;
                    transition: transform 0.2s ease;
                }
                
                .read-more:hover {
                    color: #004999;
                }
                
                .read-more:hover i {
                    transform: translateX(3px);
                }
                
                .tech-news-footer {
                    text-align: center;
                    margin-top: 2rem;
                }
                
                .view-all-news {
                    display: inline-flex;
                    align-items: center;
                    color: #0066cc;
                    font-weight: 600;
                    font-size: 1rem;
                    text-decoration: none;
                    transition: color 0.2s ease;
                    padding: 0.5rem 1rem;
                    border: 2px solid #0066cc;
                    border-radius: 30px;
                }
                
                .view-all-news i {
                    margin-left: 5px;
                    font-size: 0.8rem;
                    transition: transform 0.2s ease;
                }
                
                .view-all-news:hover {
                    color: #fff;
                    background-color: #0066cc;
                }
                
                .view-all-news:hover i {
                    transform: translateX(3px);
                }
                
                @media (max-width: 768px) {
                    .tech-news-header h2 {
                        font-size: 1.5rem;
                    }
                    
                    .tech-news-grid {
                        grid-template-columns: 1fr;
                        gap: 1.5rem;
                    }
                }
                
                /* Existing styles */
                .store-section {
                    margin-bottom: 2rem;
                    background-color: #fff;
                    border-radius: 8px;
                    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
                    overflow: hidden;
                    padding: 1.5rem;
                }
                
                .store-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 1.5rem;
                    border-bottom: 1px solid #eee;
                    padding-bottom: 1rem;
                }
                
                .store-logo h2 {
                    font-size: 1.8rem;
                    font-weight: 700;
                    color: #333;
                    margin: 0;
                    background: linear-gradient(90deg, #0066cc, #2a9df4);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                    background-clip: text;
                    text-fill-color: transparent;
                }
                
                .view-all {
                    color: #0066cc;
                    font-weight: 600;
                    text-decoration: none;
                    display: flex;
                    align-items: center;
                    transition: color 0.2s ease;
                    font-size: 0.9rem;
                }
                
                .view-all i {
                    margin-left: 5px;
                    font-size: 0.8rem;
                }
                
                .view-all:hover {
                    color: #004999;
                    text-decoration: underline;
                }
                
                .products-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                    gap: 1.5rem;
                    min-height: 200px;
                }
                
                .loading-indicator {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                    grid-column: 1 / -1;
                    min-height: 200px;
                    color: #666;
                }
                
                .loading-indicator i {
                    font-size: 2rem;
                    color: #0066cc;
                    margin-bottom: 1rem;
                }
                
                #smartphones-section .store-logo h2 {
                    background: linear-gradient(90deg, #0066cc, #2a9df4);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                    background-clip: text;
                    text-fill-color: transparent;
                }
                
                #tv-section .store-logo h2 {
                    background: linear-gradient(90deg, #cc0066, #f42a9d);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                    background-clip: text;
                    text-fill-color: transparent;
                }
                
                @media (max-width: 768px) {
                    .store-section {
                        padding: 1rem;
                    }
                    
                    .store-logo h2 {
                        font-size: 1.5rem;
                    }
                    
                    .products-grid {
                        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                        gap: 1rem;
                    }
                }
            </style>
            

            <!-- Featured Categories Section -->
            <style>
                .featured-categories {
                    margin: 3rem 0;
                    padding: 0 1rem;
                }
                
                .featured-categories-header {
                    text-align: center;
                    margin-bottom: 2rem;
                }
                
                .featured-categories-header h2 {
                    font-size: 2rem;
                    font-weight: 700;
                    color: #333;
                    margin-bottom: 0.5rem;
                }
                
                .featured-categories-header p {
                    color: #666;
                    max-width: 600px;
                    margin: 0 auto;
                }
                
                .categories-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                    gap: 1.5rem;
                    max-width: 1200px;
                    margin: 0 auto;
                }
                
                .category-card {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    text-align: center;
                    padding: 1.5rem 1rem;
                    background-color: #fff;
                    border-radius: 8px;
                    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
                    transition: transform 0.3s ease, box-shadow 0.3s ease;
                    text-decoration: none;
                    color: #333;
                }
                
                .category-card:hover {
                    transform: translateY(-5px);
                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
                }
                
                .category-icon {
                    width: 60px;
                    height: 60px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    background: linear-gradient(135deg, #f5f7fa 0%, #e4e8eb 100%);
                    border-radius: 50%;
                    margin-bottom: 1rem;
                }
                
                .category-icon i {
                    font-size: 1.8rem;
                    color: #0066cc;
                }
                
                .category-name {
                    font-weight: 600;
                    margin-top: 0.5rem;
                }
                
                .category-count {
                    font-size: 0.8rem;
                    color: #666;
                    margin-top: 0.25rem;
                }
                
                @media (max-width: 768px) {
                    .categories-grid {
                        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
                        gap: 1rem;
                    }
                    
                    .category-icon {
                        width: 50px;
                        height: 50px;
                    }
                    
                    .category-icon i {
                        font-size: 1.5rem;
                    }
                    
                    .featured-categories-header h2 {
                        font-size: 1.5rem;
                    }
                }
                
                @media (max-width: 480px) {
                    .categories-grid {
                        grid-template-columns: repeat(2, 1fr);
                    }
                }

                /* Local Businesses & Services Section Styles */
                .local-businesses-section {
                    margin: 3rem 0;
                    padding: 0 1rem;
                }

                .local-businesses-header {
                    text-align: center;
                    margin-bottom: 2rem;
                }

                .local-businesses-header h2 {
                    font-size: 2rem;
                    font-weight: 700;
                    color: #333;
                    margin-bottom: 0.5rem;
                    background: linear-gradient(90deg, #05182d, #ff0000);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                    background-clip: text;
                    text-fill-color: transparent;
                }

                .local-businesses-header p {
                    color: #666;
                    max-width: 600px;
                    margin: 0 auto;
                    font-size: 1rem;
                }

                .businesses-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
                    gap: 2rem;
                    max-width: 1200px;
                    margin: 0 auto;
                    min-height: 200px;
                }

                .business-card {
                    background: #fff;
                    border-radius: 15px;
                    overflow: hidden;
                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
                    transition: transform 0.3s ease, box-shadow 0.3s ease;
                    border: 1px solid #eee;
                }

                .business-card:hover {
                    transform: translateY(-5px);
                    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
                }

                .business-image {
                    position: relative;
                    height: 180px;
                    overflow: hidden;
                    background: #f8f9fa;
                }

                .business-image img {
                    width: 100%;
                    height: 100%;
                    object-fit: cover;
                    transition: transform 0.3s ease;
                }

                .business-card:hover .business-image img {
                    transform: scale(1.05);
                }

                .business-content {
                    padding: 1.5rem;
                    text-align: center;
                }

                .business-name {
                    font-size: 1.3rem;
                    font-weight: 700;
                    color: #333;
                    margin-bottom: 0.5rem;
                    line-height: 1.3;
                }

                .business-tagline {
                    font-size: 0.9rem;
                    color: #ff6b6b;
                    margin-bottom: 1rem;
                    font-style: italic;
                    font-weight: 600;
                }

                .business-description {
                    font-size: 0.85rem;
                    color: #666;
                    line-height: 1.5;
                    margin-bottom: 1.5rem;
                    display: -webkit-box;
                    -webkit-line-clamp: 3;
                    -webkit-box-orient: vertical;
                    overflow: hidden;
                }

                .business-actions {
                    display: flex;
                    gap: 0.5rem;
                    justify-content: center;
                }

                .business-actions .btn-primary {
                    background: linear-gradient(135deg, #ff0000 0%, #ff0000 100%);
                    color: white;
                    padding: 0.5rem 1rem;
                    border-radius: 20px;
                    text-decoration: none;
                    font-weight: 600;
                    font-size: 0.8rem;
                    transition: transform 0.2s ease;
                    border: none;
                    cursor: pointer;
                }

                .business-actions .btn-primary:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
                }

                .section-footer {
                    text-align: center;
                    margin-top: 2rem;
                }

                .view-all-businesses {
                    display: inline-flex;
                    align-items: center;
                    color: #05182d;
                    font-weight: 600;
                    font-size: 1rem;
                    text-decoration: none;
                    transition: color 0.2s ease;
                    padding: 0.75rem 1.5rem;
                    border: 2px solid #05182d;
                    border-radius: 30px;
                }

                .view-all-businesses i {
                    margin-left: 0.5rem;
                    font-size: 0.8rem;
                    transition: transform 0.2s ease;
                }

                .view-all-businesses:hover {
                    color: #fff;
                    background-color: #05182d;
                }

                .view-all-businesses:hover i {
                    transform: translateX(3px);
                }

                /* Responsive styles for local businesses section */
                @media (max-width: 768px) {
                    .local-businesses-section {
                        padding: 0 0.5rem;
                    }

                    .local-businesses-header h2 {
                        font-size: 1.5rem;
                    }

                    .businesses-grid {
                        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                        gap: 1.5rem;
                    }

                    .business-image {
                        height: 150px;
                    }

                    .business-content {
                        padding: 1rem;
                    }

                    .business-name {
                        font-size: 1.1rem;
                    }

                    .business-description {
                        font-size: 0.8rem;
                        -webkit-line-clamp: 2;
                    }
                }

                @media (max-width: 480px) {
                    .businesses-grid {
                        grid-template-columns: 1fr;
                        gap: 1rem;
                    }

                    .business-card {
                        margin: 0 auto;
                        max-width: 100%;
                    }

                    .business-image {
                        height: 140px;
                    }

                    .business-content {
                        padding: 1rem;
                    }

                    .business-name {
                        font-size: 1rem;
                    }

                    .business-tagline {
                        font-size: 0.8rem;
                    }
                }
            </style>
            

            <!-- Smartphone Deals Section -->
            <section class="store-section" id="tv-section">
                <div class="store-header">
                    <div class="store-logo">
                        <h2>Smartphone Deals</h2>
                    </div>
                    <a href="smartphones.html" class="view-all">View all deals <i class="fas fa-chevron-right"></i></a>
                </div>

                <div class="smartphone-carousel">
                    <div class="smartphone-slides" id="smartphoneSlides">
                        <!-- Slides will be loaded dynamically -->
                        <div class="loading-indicator">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>Loading smartphone deals...</p>
                        </div>
                    </div>
                    <div class="smartphone-indicators" id="smartphoneIndicators">
                        <!-- Indicators will be added dynamically -->
                    </div>
                </div>
            </section>
            
            <!-- Local Businesses & Services Section -->
            <section class="local-businesses-section">
                <div class="local-businesses-header">
                    <h2>Local Businesses & Services</h2>
                    <p>Discover amazing local businesses offering personalized services for every special occasion</p>
                </div>

                <div class="businesses-grid" id="businessesGrid">
                    <!-- Businesses will be loaded dynamically -->
                    <div class="loading-indicator">
                        <i class="fas fa-spinner fa-spin"></i>
                        <p>Loading local businesses...</p>
                    </div>
                </div>

                <div class="section-footer">
                    <a href="gifts.html" class="view-all-businesses">
                        View All Businesses <i class="fas fa-chevron-right"></i>
                    </a>
                </div>
            </section>

            <!-- Latest Tech News Section -->
            <section class="tech-news-section">
                <div class="tech-news-header">
                    <h2>Latest Tech News & Reviews</h2>
                    <p>Stay updated with the latest technology trends, product reviews, and buying guides</p>
                </div>
                
                <div class="tech-news-grid" id="techNewsGrid">
                    <!-- Articles will be loaded dynamically from articles.js -->
                    <div class="loading-indicator">
                        <i class="fas fa-spinner fa-spin"></i>
                        <p>Loading latest articles...</p>
                    </div>
                </div>
                
                <div class="tech-news-footer">
                    <a href="articles.html" class="view-all-news">View All Articles <i class="fas fa-chevron-right"></i></a>
                </div>
            </section>
            
            <!-- Google Ads Section (After Smartphone Deals) -->
            <section class="ads-section">
                <div class="ads-container" id="googleAdsContainer2">
                    <!-- Google AdSense code would be inserted here -->
                    <div class="ad-placeholder">
                        <div class="ad-placeholder-text">
                            <i class="fas fa-ad"></i>
                            <span>Advertisement</span>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <div class="sidebar-overlay" id="sidebarOverlay" onclick="closeSidebar()"></div>
    
    <!-- Notification Container -->
    <div class="notification-container" id="notificationContainer"></div>
<!-- Mobile Search Modal -->
    <div class="mobile-search-modal" id="mobileSearchModal">
        <div class="mobile-search-modal-header">
            <span class="mobile-search-close" id="mobileSearchClose">&times;</span>
            <form class="mobile-search-form" id="mobileSearchForm">
                <input type="text" class="mobile-search-input" id="mobileSearchInput" placeholder="Search...">
                <button type="submit" class="mobile-search-button"><i class="fas fa-search"></i></button>
            </form>
        </div>
        <div class="mobile-search-suggestions" id="mobileSearchSuggestions">
            <div class="mobile-suggestions-header">
                <span class="mobile-all-results">All</span>
                <span class="mobile-search-query" id="mobileSearchQuery">results</span>
            </div>
            <div class="mobile-suggestions-grid" id="mobileSuggestionsGrid"></div>
        </div>
    </div>
    
    <!-- Wishlist Modal -->
    <div id="wishlist-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-actions">
                    <a href="profile.html#wishlist" class="view-all-btn">View All</a>
                    <button class="remove-all-btn" id="clear-wishlist-btn">Remove All</button>
                    <span class="wishlist-close-modal" id="close-wishlist-modal">&times;</span>
                </div>
            </div>
            <div class="modal-body">
                <div id="wishlist-items" class="wishlist-grid">
                    <!-- Wishlist items will be populated here -->
                </div>
                <div id="modal-empty-wishlist" class="empty-wishlist" style="display: none;">
                    <i class="far fa-heart"></i>
                    <p>Your wishlist is empty</p>
                    <p class="empty-wishlist-subtext">Add items to your wishlist by clicking the heart icon on products</p>
                    <a href="smartphones.html" class="browse-products-btn">Browse Products</a>
                </div>
            </div>
        </div>
    </div>
    

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>About CompareHubPrices</h3>
                <ul>
                    <li><a href="about-us.html">About Us</a></li>
                    <li><a href="articles.html">Blog</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Help & Support</h3>
                <ul>
                    <li><a href="contact-us.html">Contact Us</a></li>
                    <li><a href="FAQs.html">FAQs</a></li>
                    <li><a href="privacy-policy.html">Privacy Policy</a></li>
                    <li><a href="Terms-of-Service.html">Terms of Service</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Connect With Us</h3>
                <div class="social-icons">
                    <a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                    <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                </div>
                <div class="newsletter-section">
                    <h4>Get the Best Deals in Your Inbox</h4>
                    <form class="newsletter-form" onsubmit="subscribeNewsletter(event)">
                        <input type="email" placeholder="Enter your email address" required aria-label="Email address for newsletter">
                        <button type="submit"><i class="fas fa-paper-plane"></i> Subscribe</button>
                    </form>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 CompareHub Prices. All rights reserved.</p>
        </div>
    </footer>

    <!-- Cookie Banner -->
    <div class="cookie-banner" id="cookieBanner">
        <div class="cookie-banner-content">
            <div class="cookie-banner-text">
                <i class="fas fa-cookie-bite"></i>
                <span>This website uses cookies to provide you with the best experience. By continuing to use this site, you agree to our use of cookies.</span>
            </div>
            <div class="cookie-banner-actions">
                <button class="cookie-banner-btn accept-btn" onclick="acceptCookies()">Accept</button>
                <button class="cookie-banner-btn decline-btn" onclick="declineCookies()">Decline</button>
            </div>
        </div>
    </div>

<script>
// Function to navigate to gifts.html and open business modal
function viewBusinessOnGifts(businessId) {
    // Navigate to gifts.html with business ID parameter
    window.location.href = `gifts.html?business=${businessId}`;
}
// index.js

document.addEventListener('DOMContentLoaded', async function() {
    // Dynamic body padding for fixed header
    function setBodyPadding() {
        const header = document.querySelector('.header');
        if (header) {
            const headerHeight = header.offsetHeight;
            document.body.style.paddingTop = `${headerHeight}px`;
        }
    }
    setBodyPadding();
    window.addEventListener('resize', setBodyPadding);

    // ---------- NOTIFICATION SYSTEM ----------
    function showNotification(message, type = 'success', title = '') {
        const notificationContainer = document.getElementById('notificationContainer');
        
        // Create notification elements
        const notification = document.createElement('div');
        notification.className = `notification ${type}`;
        
        const content = document.createElement('div');
        content.className = 'notification-content';
        
        const icon = document.createElement('div');
        icon.className = 'notification-icon';
        icon.innerHTML = type === 'success' ? '<i class="fas fa-check-circle"></i>' : '<i class="fas fa-exclamation-circle"></i>';
        
        const messageEl = document.createElement('div');
        messageEl.className = 'notification-message';
        
        if (title) {
            const titleEl = document.createElement('div');
            titleEl.className = 'notification-title';
            titleEl.textContent = title;
            messageEl.appendChild(titleEl);
        }
        
        const messageText = document.createElement('div');
        messageText.textContent = message;
        messageEl.appendChild(messageText);
        
        const closeBtn = document.createElement('button');
        closeBtn.className = 'notification-close';
        closeBtn.innerHTML = '&times;';
        closeBtn.addEventListener('click', () => {
            notification.style.animation = 'fade-out 0.3s forwards';
            setTimeout(() => {
                notification.remove();
            }, 300);
        });
        
        content.appendChild(icon);
        content.appendChild(messageEl);
        content.appendChild(closeBtn);
        
        const progress = document.createElement('div');
        progress.className = 'notification-progress';
        
        const progressBar = document.createElement('div');
        progressBar.className = 'notification-progress-bar';
        
        progress.appendChild(progressBar);
        
        notification.appendChild(content);
        notification.appendChild(progress);
        
        notificationContainer.appendChild(notification);
        
        // Auto-remove after animation completes
        setTimeout(() => {
            notification.style.animation = 'fade-out 0.3s forwards';
            setTimeout(() => {
                notification.remove();
            }, 300);
        }, 3000);
        
        return notification;
    }

    // ---------- WISHLIST MODAL ----------
    function showWishlistModal() {
        const modal = document.getElementById('wishlist-modal');
        modal.style.display = 'block';
        document.body.style.overflow = 'hidden'; // Prevent scrolling behind modal
        // Use setTimeout to ensure the display change takes effect before adding the visible class
        setTimeout(() => {
            modal.classList.add('visible');
        }, 10);
    }

    function hideWishlistModal() {
        const modal = document.getElementById('wishlist-modal');
        modal.classList.remove('visible');
        // Wait for the transition to complete before hiding the modal
        setTimeout(() => {
            modal.style.display = 'none';
            document.body.style.overflow = ''; // Restore scrolling
        }, 300);
    }

    // Set up wishlist modal event listeners
    const wishlistLink = document.getElementById('wishlist-link');
    if (wishlistLink) {
        wishlistLink.addEventListener('click', function(e) {
            e.preventDefault();
            showWishlistModal();
        });
    }
    
    const closeModalBtn = document.querySelector('.wishlist-close-modal');
    if (closeModalBtn) {
        closeModalBtn.addEventListener('click', hideWishlistModal);
    }
    
    // Close modal when clicking outside of it (on the overlay)
    const wishlistModal = document.getElementById('wishlist-modal');
    if (wishlistModal) {
        wishlistModal.addEventListener('click', function(e) {
            if (e.target === this) {
                hideWishlistModal();
            }
        });
    }
    
    // Make "View All" button in modal work
    const viewAllBtn = document.querySelector('.view-all-btn');
    if (viewAllBtn) {
        viewAllBtn.addEventListener('click', function(e) {
            hideWishlistModal();
        });
    }

    const API_URL = 'https://xf9zlapr5e.execute-api.af-south-1.amazonaws.com/deals';

    // ---------- USER INFO HELPERS (Handles Cognito and Google users) ----------
    function getAttribute(userInfo, attrName) {
        // Cognito user: Attributes/UserAttributes array
        const attrs = userInfo.Attributes || userInfo.UserAttributes || [];
        if (Array.isArray(attrs)) {
            const found = attrs.find(attr => attr.Name === attrName);
            if (found) return found.Value;
        }
        // Google user: direct property
        if (userInfo[attrName]) return userInfo[attrName];
        // Support your custom Google shape
        if (attrName === 'picture' && userInfo.avatar) return userInfo.avatar;
        if (attrName === 'picture' && userInfo.picture) return userInfo.picture;
        return '';
    }

    function getDisplayName(userInfo) {
        if (userInfo.name) return userInfo.name;
        if (userInfo.displayName) return userInfo.displayName;
        if (userInfo.email) return userInfo.email.split('@')[0].replace(/[.\-_]/g, ' ').replace(/(^|\s)\S/g, l => l.toUpperCase());
        return userInfo.userId || userInfo.Username || '';
    }

    function getAvatarInitials(userInfo) {
        if (userInfo.avatar || userInfo.picture) return ""; // Show avatar photo if available
        const displayName = getDisplayName(userInfo);
        if (displayName) {
            const parts = displayName.split(' ');
            if (parts.length >= 2) return (parts[0][0] + parts[1][0]).toUpperCase();
            return displayName[0].toUpperCase();
        }
        return 'U';
    }

    async function fetchUserInfoFromAPI(token) {
        try {
            const resp = await fetch("https://w1yg1wc8cf.execute-api.af-south-1.amazonaws.com/prod/userinfo", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                    "Authorization": `Bearer ${token}`
                }
            });
            if (!resp.ok) throw new Error("Failed to fetch user info from API");
            const data = await resp.json();
            if (data && data.user) {
                localStorage.setItem('userInfo', JSON.stringify(data.user));
                return data.user;
            }
        } catch (e) {
            console.warn("API userinfo fetch failed:", e);
        }
        return null;
    }

    // ---------- SIDEBAR LOGIN ----------
    async function renderSidebarLogin() {
        const sidebarLogin = document.getElementById('sidebarLogin');
        let userInfo = null;
        let authToken = localStorage.getItem('authToken');
        try {
            userInfo = JSON.parse(localStorage.getItem('userInfo'));
        } catch (err) { userInfo = null; }

        // Accept Google users with userInfo but no authToken
        if (!userInfo) {
            sidebarLogin.innerHTML = `
                <a href="login.html" class="login-btn">
                    <i class="fas fa-sign-in-alt"></i>Login to CompareHub
                </a>
            `;
            return;
        }

        const name = getDisplayName(userInfo);
        const email = getAttribute(userInfo, 'email');
        const avatar = getAttribute(userInfo, 'picture');
        const initials = getAvatarInitials(userInfo);

        sidebarLogin.innerHTML = `
            <div class="user-greeting fade-in">
                <div class="user-avatar" style="cursor:pointer;">
                    ${avatar ? `<img src="${avatar}" alt="Avatar">` : initials}
                </div>
                <div class="user-info">
                    <div class="user-name">${name}</div>
                    <div class="user-email">${email || ''}</div>
                    <span class="sign-out" style="cursor:pointer;">Sign Out</span>
                </div>
            </div>
        `;
        const avatarEl = sidebarLogin.querySelector('.user-avatar');
        if (avatarEl) avatarEl.addEventListener('click', function(event) {
            event.preventDefault();
            event.stopPropagation();
            window.location.href = "profile.html";
        });
        const signOutEl = sidebarLogin.querySelector('.sign-out');
        if (signOutEl) signOutEl.addEventListener('click', function(event) {
            event.preventDefault();
            event.stopPropagation();
            localStorage.removeItem('authToken');
            localStorage.removeItem('userInfo');
            window.location.href = "index.html";
        });
    }

    // ---------- HERO CAROUSEL ----------
    const heroCarousel = document.querySelector('.hero-carousel');
    if (heroCarousel) {
        const heroSlides = heroCarousel.querySelectorAll('.hero-slide');
        const heroIndicators = heroCarousel.querySelectorAll('.hero-indicator');
        let currentIndex = 0;
        let interval;
        let touchStartX = 0;
        const slideDuration = 10000;

        function showSlide(index) {
            heroSlides.forEach((slide, i) => {
                slide.classList.toggle('active', i === index);
            });
            heroIndicators.forEach((indicator, i) => {
                indicator.classList.toggle('active', i === index);
            });
            currentIndex = index;
        }

        function nextSlide() {
            showSlide((currentIndex + 1) % heroSlides.length);
        }

        function prevSlide() {
            showSlide((currentIndex - 1 + heroSlides.length) % heroSlides.length);
        }

        function startCarousel() {
            stopCarousel();
            interval = setInterval(nextSlide, slideDuration);
        }

        function stopCarousel() {
            clearInterval(interval);
        }

        if (heroSlides.length > 0) {
            showSlide(0);
            startCarousel();

            heroIndicators.forEach((indicator, index) => {
                indicator.addEventListener('click', () => {
                    stopCarousel();
                    showSlide(index);
                    startCarousel();
                });
            });

            const handleTouchStart = (e) => {
                touchStartX = e.touches[0].clientX;
                stopCarousel();
            };

            const handleTouchEnd = (e) => {
                const touchEndX = e.changedTouches[0].clientX;
                const diff = touchEndX - touchStartX;
                if (Math.abs(diff) > 50) {
                    if (diff > 0) prevSlide();
                    else nextSlide();
                }
                startCarousel();
            };

            heroCarousel.addEventListener('touchstart', handleTouchStart);
            heroCarousel.addEventListener('touchend', handleTouchEnd);
            heroCarousel.addEventListener('mouseenter', stopCarousel);
            heroCarousel.addEventListener('mouseleave', startCarousel);

            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight') nextSlide();
                else if (e.key === 'ArrowLeft') prevSlide();
            });
        }
    }

    // ---------- FETCH DEALS DATA ----------
    async function fetchDealsData() {
        try {
            showLoadingState();
            const response = await fetch(API_URL, {
                method: 'GET',
                headers: {'Content-Type': 'application/json'},
            });
            if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
            const data = await response.json();
            processDealsData(data);
            hideLoadingState();
        } catch (error) {
            showErrorState(error.message);
        }
    }

    function processDealsData(data) {
        // Store A
        if (data.takealot && Array.isArray(data.takealot)) {
            const takealotSlides = createSlidesFromProducts(data.takealot, 5);
            initializeProductCarousel('takealot', takealotSlides);
        } else if (data.takealot && data.takealot.slides) {
            initializeProductCarousel('takealot', data.takealot.slides);
        }
        // Store B carousel processing removed
    }

    function createSlidesFromProducts(products, productsPerSlide) {
        const slides = [];
        for (let i = 0; i < products.length; i += productsPerSlide) {
            slides.push(products.slice(i, i + productsPerSlide));
        }
        return slides;
    }

    function showLoadingState() {
        const takealotSlider = document.getElementById('takealotSlider');
        const amazonSlider = document.getElementById('amazonSlider');
        const loadingHTML = `
            <div class="loading-state">
                <div class="spinner-container">
                    <div class="spinner"></div>
                    <p>Loading deals...</p>
                </div>
            </div>
        `;
        if (takealotSlider) {
            takealotSlider.innerHTML = loadingHTML.replace('Loading deals...', 'Loading Store A deals...');
        }
        if (amazonSlider) {
            amazonSlider.innerHTML = loadingHTML.replace('Loading deals...', 'Loading Store B deals...');
        }
    }

    function hideLoadingState() {
        const loadingStates = document.querySelectorAll('.loading-state');
        loadingStates.forEach(state => state.remove());
    }

    function showErrorState(errorMessage) {
        const takealotSlider = document.getElementById('takealotSlider');
        const amazonSlider = document.getElementById('amazonSlider');
        const errorHTML = `
            <div class="error-state">
                <h3>Failed to load deals</h3>
                <p>${errorMessage}</p>
                <button onclick="window.location.reload()" class="retry-btn">Retry</button>
            </div>
        `;
        if (takealotSlider) takealotSlider.innerHTML = errorHTML;
        if (amazonSlider) amazonSlider.innerHTML = errorHTML;
    }

    // ---------- PRODUCT CARD ----------
    function createProductCard(product) {
        const imageUrl = product.img || product.imageUrl || product.image || '';
        const productName = product.name || product.model || product.title || 'Product';
        const currentPrice = product.currentPrice || product.price || 'N/A';
        const originalPrice = product.originalPrice || '';
        const discount = product.discount || '';
        const productUrl = product.url || product.link || '#';
        return `
            <div class="product-card">
                <div class="product-link">
                    <div class="product-image">
                        <img src="${imageUrl}" alt="${productName}" loading="lazy"
                             onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pjwvc3ZnPg=='">
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">${productName}</h3>
                        <div class="price-container">
                            ${originalPrice ? `<span class="original-price">${originalPrice}</span>` : ''}
                            <span class="current-price">${currentPrice}</span>
                            ${discount ? `<span class="discount">${discount}</span>` : ''}
                        </div>
                        <a href="${productUrl}" target="_blank" class="view-deal-btn">View Deal</a>
                    </div>
                </div>
            </div>
        `;
    }

    function initializeProductCarousel(store, slidesData) {
        const slider = document.getElementById(`${store}Slider`);
        const indicatorsContainer = document.getElementById(`${store}Indicators`);
        if (!slider || !slidesData || slidesData.length === 0) return;
        slider.innerHTML = '';
        if (indicatorsContainer) indicatorsContainer.innerHTML = '';
        slidesData.forEach((slideProducts, slideIndex) => {
            const slide = document.createElement('div');
            slide.className = 'slide';
            if (slideIndex === 0) slide.classList.add('active');
            slide.innerHTML = slideProducts.map(createProductCard).join('');
            slider.appendChild(slide);
            if (indicatorsContainer) {
                const indicator = document.createElement('span');
                indicator.className = 'indicator';
                if (slideIndex === 0) indicator.classList.add('active');
                indicator.addEventListener('click', () => showProductSlide(store, slideIndex));
                indicatorsContainer.appendChild(indicator);
            }
        });
        setupProductCarousel(store, slidesData.length);
    }

    function showProductSlide(store, index) {
        const slider = document.getElementById(`${store}Slider`);
        const indicatorsContainer = document.getElementById(`${store}Indicators`);
        const slides = slider.querySelectorAll('.slide');
        const indicators = indicatorsContainer ? indicatorsContainer.querySelectorAll('.indicator') : [];

        slides.forEach(slide => slide.classList.remove('active'));
        indicators.forEach(indicator => indicator.classList.remove('active'));

        if (slides[index]) slides[index].classList.add('active');
        if (indicators[index]) indicators[index].classList.add('active');
    }

    function setupProductCarousel(store, totalSlides) {
        const slider = document.getElementById(`${store}Slider`);
        if (!slider) return;
        
        let currentIndex = 0;
        let interval;
        
        function updateSlide(newIndex) {
            showProductSlide(store, newIndex);
            currentIndex = newIndex;
        }
        
        function nextSlide() {
            const nextIndex = (currentIndex + 1) % totalSlides;
            updateSlide(nextIndex);
        }

        function prevSlide() {
            const prevIndex = (currentIndex - 1 + totalSlides) % totalSlides;
            updateSlide(prevIndex);
        }

        function startCarousel() {
            stopCarousel();
            if (totalSlides > 1) {
                interval = setInterval(nextSlide, 14000);
            }
        }
        
        function stopCarousel() {
            clearInterval(interval);
        }
        
        updateSlide(0);
        startCarousel();

        let touchStartX = 0;
        slider.addEventListener('touchstart', (e) => {
            touchStartX = e.touches[0].clientX;
            stopCarousel();
        });
        slider.addEventListener('touchend', (e) => {
            const touchEndX = e.changedTouches[0].clientX;
            const diff = touchEndX - touchStartX;
            if (Math.abs(diff) > 50) {
                if (diff > 0) prevSlide();
                else nextSlide();
            }
            startCarousel();
        });

        slider.addEventListener('mouseenter', stopCarousel);
        slider.addEventListener('mouseleave', startCarousel);
    }

    // Search functionality moved to search-suggestions.js

    await renderSidebarLogin();

    // Cookie Banner Functions
    window.acceptCookies = function() {
        const cookieBanner = document.getElementById('cookieBanner');
        if (cookieBanner) {
            cookieBanner.classList.remove('show');
            localStorage.setItem('cookiesAccepted', 'true');
            setTimeout(() => {
                cookieBanner.style.display = 'none';
            }, 400);
        }
    };

    window.declineCookies = function() {
        const cookieBanner = document.getElementById('cookieBanner');
        if (cookieBanner) {
            cookieBanner.classList.remove('show');
            localStorage.setItem('cookiesAccepted', 'false');
            setTimeout(() => {
                cookieBanner.style.display = 'none';
            }, 400);
        }
    };

    // Show cookie banner on page load if not already accepted/declined
    function showCookieBanner() {
        const cookiesAccepted = localStorage.getItem('cookiesAccepted');
        if (cookiesAccepted === null) {
            const cookieBanner = document.getElementById('cookieBanner');
            if (cookieBanner) {
                setTimeout(() => {
                    cookieBanner.classList.add('show');
                }, 1000); // Show after 1 second delay
            }
        }
    }

    // Initialize cookie banner
    showCookieBanner();

    window.subscribeNewsletter = function(event) {
        event.preventDefault();
        const input = event.target.querySelector('input[type="email"]');
        if (input && input.value) {
            showNotification('Thank you for subscribing!', 'success', 'Newsletter');
            input.value = '';
        }
    };

    fetchDealsData();

    // ---------- LOCAL BUSINESSES SECTION ----------

    function displayLocalBusinesses() {
        const businessesGrid = document.getElementById('businessesGrid');
        if (!businessesGrid) return;

        // Array of all available businesses from gifts.js
        const allBusinesses = [
            businessData,
            aliceCakeFactoryData,
            mnandisCateringData,
            tkeeyHampersData,
            mashGiftCardsData,
            siphosPrintingData,
            nomsasBeautyData,
            thabosAutoData
        ];

        // Select 3 random businesses to display
        const selectedBusinesses = allBusinesses.sort(() => 0.5 - Math.random()).slice(0, 3);

        let html = '';

        selectedBusinesses.forEach(business => {
            html += `
                <div class="business-card">
                    <div class="business-image">
                        <img src="${business.image}" alt="${business.name}" loading="lazy"
                             onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pjwvc3ZnPg=='">
                    </div>
                    <div class="business-content">
                        <h3 class="business-name">${business.name}</h3>
                        <p class="business-tagline">${business.tagline}</p>
                        <p class="business-description">${business.shortDescription}</p>
                        <div class="business-actions">
                            <button class="btn-primary" onclick="viewBusinessOnGifts('${business.id}')">
                                Learn More
                            </button>
                        </div>
                    </div>
                </div>
            `;
        });

        businessesGrid.innerHTML = html;
    }

    // Initialize local businesses section
    displayLocalBusinesses();

    // ---------- TECH NEWS SECTION ----------
    function displayTechNews() {
        const techNewsGrid = document.getElementById('techNewsGrid');
        if (!techNewsGrid) return;

        // Get the first 3 articles from articlesData
        const articlesToShow = articlesData.slice(0, 3);

        let html = '';

        articlesToShow.forEach(article => {
            html += `
                <div class="news-card">
                    <div class="news-image">
                        <img src="${article.image}" alt="${article.title}" loading="lazy"
                             onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPk5vIEltYWdlPC90ZXh0Pjwvc3ZnPg=='">
                    </div>
                    <div class="news-content">
                        <span class="news-category">${article.category}</span>
                        <h3 class="news-title">${article.title}</h3>
                        <p class="news-excerpt">${article.excerpt}</p>
                        <a href="articles.html?id=${article.id}" class="read-more">Read More <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>
            `;
        });

        techNewsGrid.innerHTML = html;
    }

    // Initialize tech news section
    displayTechNews();

    // ---------- ARTICLE MODAL FUNCTIONS ----------
    function showFullArticle(articleId) {
        const article = getArticleById(articleId);
        if (!article) return;

        // Populate modal with article data
        document.getElementById('articleModalCategory').textContent = article.category;
        document.getElementById('articleModalTitle').textContent = article.title;
        document.getElementById('articleModalDate').innerHTML = `<i class="far fa-calendar-alt"></i> ${article.date}`;
        document.getElementById('articleModalContent').innerHTML = article.fullContent;

        // Show modal
        document.getElementById('articleModal').style.display = 'block';
        document.body.style.overflow = 'hidden'; // Prevent background scrolling
    }

    function closeArticleModal() {
        document.getElementById('articleModal').style.display = 'none';
        document.body.style.overflow = 'auto'; // Restore background scrolling
    }

    // Add event listeners for article modal
    document.addEventListener('DOMContentLoaded', function() {
        // Close modal when clicking outside
        const articleModal = document.getElementById('articleModal');
        if (articleModal) {
            articleModal.addEventListener('click', function(e) {
                if (e.target === this) {
                    closeArticleModal();
                }
            });
        }

        // Close modal with close button
        const articleModalClose = document.getElementById('articleModalClose');
        if (articleModalClose) {
            articleModalClose.addEventListener('click', closeArticleModal);
        }

        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && document.getElementById('articleModal').style.display === 'block') {
                closeArticleModal();
            }
        });
    });
});
</script>

<!-- Search suggestions functionality -->
<script src="search-suggestions.js"></script>

<!-- Account authentication functionality -->
<script src="account-authentication.js"></script>

<!-- Business data -->
<script src="gifts.js"></script>

<!-- Articles data -->
<script src="article.js"></script>

<!-- Wishlist functionality -->
<script src="wishlist.js"></script>

<!-- Sidebar functionality -->
<script src="sidebar.js"></script>

<!-- Smartphone Deals functionality -->
<script src="index.js"></script>

<!-- Mobile Search Modal Script -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
      // Mobile search modal functionality
      const searchInput = document.getElementById('searchInput');
      const searchButton = document.querySelector('.search-button');
      const mobileSearchModal = document.getElementById('mobileSearchModal');
      const mobileSearchClose = document.getElementById('mobileSearchClose');
      const mobileSearchInput = document.getElementById('mobileSearchInput');
      const mobileSearchForm = document.getElementById('mobileSearchForm');
      const mobileSearchQuery = document.getElementById('mobileSearchQuery');
      const mobileSuggestionsGrid = document.getElementById('mobileSuggestionsGrid');
      
      // Function to check if device is a mobile phone (not tablet)
      function isMobilePhone() {
          return window.innerWidth <= 768 &&
                (typeof window.orientation !== 'undefined' ||
                 navigator.userAgent.indexOf('IEMobile') !== -1 ||
                 /Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));
      }
      
      // Function to open mobile search modal
      function openMobileSearchModal() {
          if (isMobilePhone()) {
              mobileSearchModal.classList.add('active');
              mobileSearchInput.focus();
              // Copy value from main search input if it exists
              if (searchInput && searchInput.value) {
                  mobileSearchInput.value = searchInput.value;
                  // Trigger input event to show suggestions
                  const inputEvent = new Event('input', { bubbles: true });
                  mobileSearchInput.dispatchEvent(inputEvent);
              }
          }
      }
      
      // Function to close mobile search modal
      function closeMobileSearchModal() {
          mobileSearchModal.classList.remove('active');
      }
      
      // Event listeners for opening modal
      if (searchInput) {
          searchInput.addEventListener('click', function(e) {
              if (isMobilePhone()) {
                  e.preventDefault();
                  e.stopPropagation();
                  openMobileSearchModal();
              }
          }, { capture: true });
      }
      
      if (searchButton) {
          searchButton.addEventListener('click', function(e) {
              if (isMobilePhone()) {
                  e.preventDefault();
                  e.stopPropagation();
                  openMobileSearchModal();
              }
          }, { capture: true });
      }
      
      // Event listener for closing modal
      if (mobileSearchClose) {
          mobileSearchClose.addEventListener('click', closeMobileSearchModal);
      }
      
      // Handle mobile search form submission
      if (mobileSearchForm) {
          mobileSearchForm.addEventListener('submit', function(e) {
              e.preventDefault();
              const query = mobileSearchInput.value.trim();
              if (query) {
                  window.location.href = `search-results.html?q=${encodeURIComponent(query)}`;
              }
          });
      }
      
      // Mobile search suggestions functionality
      if (mobileSearchInput) {
          const API_URL = 'https://xf9zlapr5e.execute-api.af-south-1.amazonaws.com/search';
          let debounceTimer;
          
          mobileSearchInput.addEventListener('input', function() {
              const query = this.value.trim();
              mobileSearchQuery.textContent = query || 'results';
              
              clearTimeout(debounceTimer);
              debounceTimer = setTimeout(async function() {
                  if (query.length < 2) {
                      mobileSuggestionsGrid.innerHTML = '';
                      return;
                  }
                  
                  try {
                      const response = await fetch(`${API_URL}?q=${encodeURIComponent(query)}&limit=10`);
                      if (!response.ok) throw new Error('API request failed');
                      
                      const data = await response.json();
                      const suggestions = data.results || [];
                      
                      mobileSuggestionsGrid.innerHTML = '';
                      
                      if (suggestions.length === 0) {
                          mobileSuggestionsGrid.innerHTML = '<div class="mobile-no-suggestions">No suggestions found</div>';
                          return;
                      }
                      
                      suggestions.forEach(item => {
                          const isCategory = item.type === 'category';
                          const suggestionElement = document.createElement('div');
                          suggestionElement.className = `mobile-suggestion-item ${isCategory ? 'category' : 'product'}`;
                          
                          if (!isCategory) {
                              const productName = item.name || item.model || item.title || '';
                              suggestionElement.innerHTML = `
                                  <a href="search-results.html?q=${encodeURIComponent(productName)}" class="mobile-suggestion-link">
                                      <div class="mobile-suggestion-img">
                                          <img src="${item.imageUrl || item.image || 'images/phones/Apple iPhone 16.webp'}" alt="${productName}">
                                      </div>
                                      <div class="mobile-suggestion-name">${productName}</div>
                                  </a>
                              `;
                          } else {
                              suggestionElement.innerHTML = `
                                  <a href="${(item.category || item.name).toLowerCase()}.html" class="mobile-suggestion-link">
                                      <div class="mobile-suggestion-icon">
                                          <i class="fas fa-folder"></i>
                                      </div>
                                      <div class="mobile-suggestion-name">${item.name || ''}</div>
                                  </a>
                              `;
                          }
                          
                          mobileSuggestionsGrid.appendChild(suggestionElement);
                      });
                  } catch (error) {
                      console.error('Error fetching suggestions:', error);
                      mobileSuggestionsGrid.innerHTML = '<div class="mobile-no-suggestions">Error loading suggestions</div>';
                  }
              }, 300); // Debounce delay
          });
      }
  });
</script>

<!-- Login Modal JavaScript -->


<!-- Register Modal JavaScript -->

<!-- Forgot Password Modal JavaScript -->

    <!-- Login Modal -->
    <div class="login-modal" id="loginModal">
        <div class="login-modal-container">
            <div class="login-modal-header">
                <button class="login-modal-close" id="loginModalClose">&times;</button>
                <div class="login-modal-logo-container">
                    <img src="https://comparehub-smartphone-images.s3.af-south-1.amazonaws.com/IMG_20250625_174144.jpg" alt="Logo">
                </div>
            </div>
            <div class="login-modal-form-container">
                <div class="login-modal-form-header">
                    <h2>Welcome Back</h2>
                    <p>Please sign in to your account to continue</p>
                </div>
                
                <div id="loginAlertContainer"></div>
                <form class="login-modal-form" id="loginModalForm">
                    <div class="login-modal-form-group">
                        <label for="loginModalEmail">Email Address</label>
                        <input type="email" id="loginModalEmail" name="email" placeholder="Enter your email" required>
                    </div>
                    <div class="login-modal-form-group">
                        <label for="loginModalPassword">Password</label>
                        <div class="login-modal-input-wrapper">
                            <input type="password" id="loginModalPassword" name="password" placeholder="Enter your password" required>
                            <button type="button" class="login-modal-password-toggle" id="loginModalPasswordToggle">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    <div class="login-modal-forgot-password">
                        <a href="#" id="loginModalForgotPassword">Forgot Password?</a>
                    </div>
                    <button type="submit" class="login-modal-btn" id="loginModalBtn">
                        <span id="loginModalBtnText">Sign In</span>
                        <div class="login-modal-spinner" id="loginModalSpinner" style="display: none;"></div>
                    </button>
                </form>
                <div class="login-modal-register-link">
                    Don't have an account? <a href="#" id="loginModalRegisterLink">Sign up here</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div class="register-modal" id="registerModal">
        <div class="register-modal-container">
            <div class="register-modal-header">
                <button class="register-modal-close" id="registerModalClose">&times;</button>
                <div class="register-modal-logo-container">
                    <img src="https://comparehub-smartphone-images.s3.af-south-1.amazonaws.com/IMG_20250625_174144.jpg"
                         alt="CompareHub Logo">
                </div>
            </div>
            
            <div class="register-modal-form-container">
                <div class="register-modal-form-header">
                    <h2>Create Account</h2>
                    <p>Join thousands saving money with smart comparisons</p>
                </div>
                
                <div id="registerAlertContainer"></div>
                
                <form id="registerModalForm" autocomplete="off">
                    <div class="register-modal-form-group">
                        <div class="register-modal-input-group">
                            <input type="text" class="register-modal-input" id="registerFirstname" placeholder="First Name" required>
                            <i class="fas fa-user register-modal-input-icon"></i>
                        </div>
                    </div>
                    
                    <div class="register-modal-form-group">
                        <div class="register-modal-input-group">
                            <input type="text" class="register-modal-input" id="registerLastname" placeholder="Last Name" required>
                            <i class="fas fa-user register-modal-input-icon"></i>
                        </div>
                    </div>
                    
                    <div class="register-modal-form-group">
                        <div class="register-modal-input-group">
                            <input type="email" class="register-modal-input" id="registerEmail" placeholder="Email Address" required>
                            <i class="fas fa-envelope register-modal-input-icon"></i>
                        </div>
                    </div>
                    
                    <div class="register-modal-form-group">
                        <div class="register-modal-input-group">
                            <input type="password" class="register-modal-input" id="registerPassword" placeholder="Password" required>
                            <button type="button" class="register-modal-password-toggle" onclick="toggleRegisterPassword('registerPassword')">
                                <i class="fas fa-eye" id="registerPassword-eye"></i>
                            </button>
                        </div>
                        <div class="register-modal-password-strength">
                            <div class="register-modal-strength-title">Password Requirements</div>
                            <div class="register-modal-strength-indicators">
                                <div class="register-modal-strength-item" id="register-length-check">
                                    <i class="fas fa-times"></i>
                                    <span>8+ characters</span>
                                </div>
                                <div class="register-modal-strength-item" id="register-upper-check">
                                    <i class="fas fa-times"></i>
                                    <span>Uppercase letter</span>
                                </div>
                                <div class="register-modal-strength-item" id="register-number-check">
                                    <i class="fas fa-times"></i>
                                    <span>Number</span>
                                </div>
                                <div class="register-modal-strength-item" id="register-special-check">
                                    <i class="fas fa-times"></i>
                                    <span>Special character</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="register-modal-form-group">
                        <div class="register-modal-input-group">
                            <input type="password" class="register-modal-input" id="registerConfirmPassword" placeholder="Confirm Password" required>
                            <button type="button" class="register-modal-password-toggle" onclick="toggleRegisterPassword('registerConfirmPassword')">
                                <i class="fas fa-eye" id="registerConfirmPassword-eye"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="register-modal-checkbox-group">
                        <div class="register-modal-checkbox">
                            <input type="checkbox" id="registerTerms" required style="position: absolute; opacity: 0; cursor: pointer; height: 100%; width: 100%; margin: 0; z-index: 1;">
                            <div class="register-modal-checkmark"></div>
                        </div>
                        <label for="registerTerms" class="register-modal-checkbox-label" style="cursor: pointer;">
                            I agree to the <a href="Terms-of-Service.html" target="_blank" style="pointer-events: auto;">Terms of Service</a> and <a href="privacy-policy.html" target="_blank" style="pointer-events: auto;">Privacy Policy</a>
                        </label>
                    </div>
                    
                    <button type="submit" class="register-modal-btn" id="registerModalBtn">
                        <i class="fas fa-user-plus"></i>
                        <span id="registerModalBtnText">Create Account</span>
                        <div class="register-modal-spinner" id="registerModalSpinner" style="display: none;"></div>
                    </button>
                </form>
                
                <div class="register-modal-divider">
                    <span>Already have an account?</span>
                </div>
                
                <div class="register-modal-login-link">
                    <a href="#" id="registerModalLoginLink">
                        <i class="fas fa-arrow-left"></i> Sign in instead
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Forgot Password Modal -->
    <div id="forgotPasswordModal" class="forgot-password-modal">
        <div class="forgot-password-modal-container">
            <div class="forgot-password-modal-header">
                <button class="forgot-password-modal-close" onclick="closeForgotPasswordModal()">&times;</button>
                <div class="forgot-password-modal-icon">
                    <i class="fas fa-key"></i>
                </div>
            </div>
            <div class="forgot-password-modal-form-container">
                <div class="forgot-password-modal-form-header">
                    <h2>Reset Password</h2>
                    <p>Enter your email address and we'll send you a code to reset your password.</p>
                </div>

                <div id="forgotPasswordAlert" class="forgot-password-modal-alert" style="display: none;"></div>

                <form id="forgotPasswordForm">
                    <div class="forgot-password-modal-form-group">
                        <label for="forgotPasswordEmail">Email Address</label>
                        <input
                            type="email"
                            id="forgotPasswordEmail"
                            name="email"
                            placeholder="Enter your email address"
                            required
                        >
                    </div>

                    <button type="submit" class="forgot-password-modal-btn" id="forgotPasswordBtn">
                        <span id="forgotPasswordBtnText">Send Reset Code</span>
                        <div id="forgotPasswordSpinner" class="forgot-password-modal-spinner" style="display: none;"></div>
                    </button>
                </form>

                <div class="forgot-password-modal-back-link">
                    <a href="#" onclick="closeForgotPasswordModal(); showLoginModal();">Back to Login</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Article Modal -->
    <div id="articleModal" class="article-modal">
        <div class="article-modal-content">
            <div class="article-modal-header">
                <button class="article-modal-close" id="articleModalClose">&times;</button>
                <div class="article-modal-category" id="articleModalCategory"></div>
            </div>
            <div class="article-modal-body">
                <h1 class="article-modal-title" id="articleModalTitle"></h1>
                <div class="article-modal-meta">
                    <span class="article-modal-date" id="articleModalDate"></span>
                </div>
                <div class="article-modal-full-content" id="articleModalContent"></div>
            </div>
        </div>
    </div>

</body>
</html>